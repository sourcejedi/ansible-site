- hosts: alan-laptop
  roles:
    - repos-fedora
    - sourcejedi.etckeeper

    - sourcejedi.hdparm-noapm
    - users
    - sourcejedi.systemd-journal

    # My Dell Latitude E5450 seems ok with `powertop --auto-tune`.
    #
    # except that it causes occasional hangs soon after resume
    # (test period: 1-3 weeks)
    #
    #- powertop-full-override

    - remove-mlocate-on-fedora
    - packages-gui
    - packages-trash-cli

    - packages-dev-basics

    - sourcejedi.rpmfusion-free  # e.g. codecs beyond mp3
    #- sourcejedi.rpmfusion-nonfree
    - { role: sourcejedi.rpmfusion-remove, repo: nonfree }
    #- { role: sourcejedi.rpmfusion-remove, repo: free }

    - sourcejedi.nspawn-on-fedora


    # this works ok, though it doesn't mark the file
    # as modified automatically by ansible
    - role: tersmitten.sysctl
      sysctl_settings:
        #
        # https://fedoraproject.org/wiki/QA/Sysrq
        #
        # Fedora disables sysrq by default.
        # It's slightly more powerful than some people are comfortable with
        # granting to not-logged-in users :).
        # But I want it.
        #
        - name: kernel.sysrq
          value: 1
